<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="Protótipo"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
	<title>Protótipo</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/bootstrap-responsive.css">
	<link rel="stylesheet" href="css/estilo.css">
	<link rel="stylesheet" href="jquery-ui.css">

	<script type="text/javascript" src="jquery-1.10.2.js"> </script>
	<script type="text/javascript" src="jquery-ui.js"> </script>

</head>


<body>
<div class="navbar navbar-fixed-top cabecalho">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Papp + </a>
          <div class="nav-collapse collapse">
           
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>


	<div class="container-fluid">
		<div class="row-fluid">
			<div id="area" class="span10 table-bordered" ondrop = "return dragDrop(event)" ondragover = "return dragOver(event)">

				
			</div>

			<div id="menu-lateral" class="span2 table-bordered"  data-spy="affix" data-offset-top="311">

				<div id="topo-menu-lateral">
					Formas
				</div>


				<div class="row-fluid">

				

					<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bOval" type="image" src="img/oval.png" width="35px" height="35px">
					</div>
				
				<div class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bLosang" type="image" src="img/losango.png" width="40px" height="40px">
				</div>

			</div>

			<div class="row-fluid">

				

					<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bRetang" type="image" src="img/retangulo.png" width="50px" height="50px">
					</div>
				
				<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
					<input id="bCirc" type="image" src="img/circulo.jpg" width="50px" height="50px">
				</div>

			</div>
				
				<div class="row-fluid">

				

					<div class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bAlgo" type="image" src="img/circulo.jpg" width="50px" height="50px">
					</div>
				
				

			</div>

			</div>


			
			<div id="menu-opcoes" class="span2 table-bordered"  data-spy="affix" data-offset-top="311">

				<div id="topo-menu-lateral">
					Selecione
				</div>

			<div class="row-fluid">

					<div  class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="delete" type="image" src="img/delete.png" width="35px" height="35px">
					</div>

					<div  class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="delete" type="image" src="img/delete.png" width="35px" height="35px">
					</div>

					<div class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
							<input id="redimensiona" type="image" src="img/redimensiona.png" width="35px" height="35px">
					</div>

			</div>



			</div>






				
			</div>
		</div>

		<div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a>             is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></div>
	</div>


		

	<script type="text/javascript"  src="js/bootstrap.js"> </script>
	<script type="text/javascript">

	function dragStart(event){
		event.dataTransfer.setData("ID", ev.target.getAtrribute('id')); }

	function dragOver(event) { return false;}

	function dragDrop(acao) {
	var formaSelecionada = acao.dataTransfer.getDAta("ID");
	acao.target.appenChild(document.getElementById(formaSelecionada));}



	</script>


	
  <script>
  $(function() {
     $( "#area" ).resizable();
  });


  </script>

  <script>

  		$(document).ready(function(){
		var divPai = $('#area');
		var retangulo = $('#bRetang');
		var oval = $('#bOval');
		var circulo = $('#bCirc');
		var losango = $('#bLosang');
		var apagar = $('#delete');
		var redimensiona = $('#redimensiona');

		var classeElementos = $('.ui-widget-content');

		var count = 0;
		var id = 0;

		 //if(id != 'area'){
        //$("#menu-opcoes").css("display", "block");}
        //else{ $("#menu-opcoes").css("display", "none");}

        //var n = id.indexOf("id");



        /*if(id.contains("id")) {
          $("#menu-opcoes").css("display", "block");
		}*/

		//if(n >= 0) { alert(success); }

		classeElementos.click(function() {

			if(id != 'area'){
        		$("#menu-opcoes").css("display", "block");}
        	else{ $("#menu-opcoes").css("display", "none");}

		});

		redimensiona.click(function() {

			$('#'+id).resizable();
		});

		apagar.click(function() {

			$('#'+id).remove();
		});


		retangulo.click(function() {

				count =  count + 1;
				id = "id"+count;

			    //create an element
			    var $element = $("<div id='id"+count+"' class=' retangulo ui-widget-content''> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'})

			    	    
			    return false;
		});

 


		losango.click(function(){
		   
		   		count =  count + 1;
		   		id = "id"+count;
		     //create an element
			    var $element = $("<div id='id"+count+"' class='losango ui-widget-content'> </div>	");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'})
			    
			    return false;
		  
		});

		oval.click(function(){
		     	count =  count + 1;
		     	id = "id"+count;
		       	//create an element
			    var $element = $("<div id='id"+count+"' class=' oval ui-widget-content'> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'})
			    
			    return false;
		  
		});


		circulo.click(function(){
				count =  count + 1;
				id = "id"+count;
		   
		      	//create an element
			    var $element = $("<div id='id"+count+"' class='circulo ui-widget-content'> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'})
			    
			    return false;
		  
		});



		$("body").on(
  		  "click",
    	".ui-widget-content", // pode ser ID tbm
    function (event) {
    	 id = $(this).attr('id');
        //alert(id);

    }
);

 
});

  		

  </script>

  <script>

  	/*$(function() {

  		$( "#area" ).click(function() {
  		 var id = $(this).attr('id');
  		alert( "Handler for .click() called."+id );
		});


    $("#menu-lateral div").click(function(){
       
        var id = $(this).attr('id');
        alert("oi");
   										

    });
});
*/

  </script>


  
</body>
</html>

