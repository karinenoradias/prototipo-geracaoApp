<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta name="description" content="Protótipo"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	
	<title>Protótipo</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/bootstrap-responsive.css">
	<link rel="stylesheet" href="css/estilo.css">
	<link rel="stylesheet" href="jquery-ui.css">

	<script type="text/javascript" src="jquery-1.10.2.js"> </script>
	<script type="text/javascript" src="jquery-ui.js"> </script>

</head>


<body>
<div class="navbar navbar-fixed-top cabecalho">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#"> Protótipo v1 </a>
          <div class="nav-collapse collapse">
           
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>


	<div class="container-fluid">
		<div class="row-fluid">

			


			<div id="principal" class="span10">
			<div id="area"  onClick='selecionar(area)'>

				<ul class="nav nav-tabs">
					<li class="active"><a href="#tab1" data-toggle="tab"> Fluxograma </a></li>
					<li ><a href="#tab2" data-toggle="tab">  Visualizar Tela </a> </li>
					
				</ul>
				<div class="tab-content">
					<div class="tab-pane active "id="tab1">
						
					</div>
					<div class="tab-pane" id="tab2">
						
					</div>
					
				</div>
				
			</div>

			
			</div>



			<div id="menu-lateral" class="span2 table-bordered"  data-spy="affix" data-offset-top="311">

				<div id="topo-menu-lateral">
					Formas
				</div>


				<div class="row-fluid">

				

					<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bOval" type="image" src="img/oval.png" width="35px" height="35px">
					</div>
				
				<div class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bLosang" type="image" src="img/losango.png" width="40px" height="40px">
				</div>

			</div>

			<div class="row-fluid">

				

					<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bRetang" type="image" src="img/retangulo.png" width="50px" height="50px">
					</div>
				
				<div  class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
					<input id="bCirc" type="image" src="img/circulo.jpg" width="50px" height="50px">
				</div>

			</div>
				
				<div class="row-fluid">

				

					<div class="span6 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="bAlgo" type="image" src="img/circulo.jpg" width="50px" height="50px">
					</div>
				
				

			</div>

			</div>


			
			<div id="menu-opcoes" class="span2 table-bordered"  data-spy="affix" data-offset-top="311">

				<div id="topo-menu-lateral">
					Selecione
				</div>

			<div class="row-fluid">

					<div  class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="delete" type="image" src="img/delete.png" width="25px" height="25px">
					</div>

					<div  class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
						<input id="edit" type="image" src="img/editar.png" width="35px" height="35px">
					</div>

					<div class="span4 menu-lateral-formas" draggable=true ondragstart="return dragStart(event)">
							<input id="redimensiona" type="image" src="img/redimensiona.png" width="20px" height="20px">
					</div>

			</div>



			</div>






				
			</div>
		</div>

		<div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a>             is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></div>
	</div>


		

	<script type="text/javascript"  src="js/bootstrap.js"> </script>
	<script type="text/javascript">

	function dragStart(event){
		event.dataTransfer.setData("ID", ev.target.getAtrribute('id')); }

	function dragOver(event) { return false;}

	function dragDrop(acao) {
	var formaSelecionada = acao.dataTransfer.getDAta("ID");
	acao.target.appenChild(document.getElementById(formaSelecionada));}



	</script>


	
  <script>
  $(function() {
     $( "#area" ).resizable();
  });


  </script>

  <script>

  		$(document).ready(function(){
		var divPai = $('#area');
		var retangulo = $('#bRetang');
		var oval = $('#bOval');
		var circulo = $('#bCirc');
		var losango = $('#bLosang');
		var apagar = $('#delete');
		var redimensiona = $('#redimensiona');
		var editar = $('#edit');


		

		var count = 0;
		var id = 0;

		var allInputs = $( ":text" );


	
		
		
		redimensiona.click(function() {

			$('#'+id).resizable();
		});

		apagar.click(function() {

			$('#'+id).remove();
			$("#menu-opcoes").css("display", "none");


			 $.ajax({
					type:'POST',
					url:'teste.php',
					data:{ action: 'delete', projeto:'1', idElemento: id , tipo:'0'}
				}).done(function(e){
						//$('div.comments').append(e); 
						//alert(e);

						});


		});

		editar.click(function() { 
			var $input = $("<div class='conteudoElemento' ><input type='text'></div>");
			$('#'+id).append($input);

			allInputs.attr("disabled", false);

			//var valor = $("input[name=<nome do campo aqui>]").val();
			//var $input = $("<div id='conteudoElemento'> <form><input type='text'></form></div>");

		});


		retangulo.click(function() {

				count =  count + 1;
				id = "id"+count;

			    //create an element
			    var $element = $("<div id='id"+count+"' class='retangulo ui-widget-content' onClick='selecionar("+id+")' > <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit </p> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'});

			     $.ajax({
					type:'POST',
					url:'teste.php',
					data:{ action: 'insert', projeto:'1', idElemento: "id"+count , tipo:'3'}
				}).done(function(e){
						//$('div.comments').append(e); 
						//alert(e);

						});


			    	    
			    return false;
		});

 


		losango.click(function(){
		   
		   		count =  count + 1;
		   		id = "id"+count;
		     //create an element
			    var $element = $("<div id='id"+count+"' class='losango ui-widget-content'  onClick='selecionar("+id+")'> </div>	");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'});



			     $.ajax({
					type:'POST',
					url:'teste.php',
					data:{ action: 'insert', projeto:'1', idElemento: "id"+count , tipo:'2'}
				}).done(function(e){
						//$('div.comments').append(e); 
						//alert(e);

						});

			    
			    return false;
		  
		});

		oval.click(function(){
		     	count =  count + 1;
		     	id = "id"+count;
		       	//create an element
			    var $element = $("<div id='id"+count+"' class=' oval ui-widget-content' onClick='selecionar("+id+")'> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'});



			     $.ajax({
					type:'POST',
					url:'teste.php',
					data:{ action: 'insert', projeto:'1', idElemento: "id"+count , tipo:'1'}
				}).done(function(e){
						//$('div.comments').append(e); 
						//alert(e);

						});


			    
			    return false;
		  
		});


		circulo.click(function(){
				count =  count + 1;
				id = "id"+count;
	
		   
		      	//create an element
			    var $element = $("<div id='id"+count+"' class='circulo ui-widget-content'  onClick='selecionar("+id+")'> </div>");
			    
			    //append it to the DOM
			    $("#area").append($element);

			    //make it "draggable" and "resizable"
			    $element.draggable();

			    $element.draggable({  containment: 'parent'});


			    $.ajax({
					type:'POST',
					url:'teste.php',
					data:{ action: 'insert', projeto:'1', idElemento: "id"+count , tipo:'4'}
				}).done(function(e){
						//$('div.comments').append(e); 
						//alert(e);

						});



					    
			    return false;
		  
		});



		$("body").on(
  		  "click",
    	".ui-widget-content", // pode ser ID tbm
   		 function (event) {
    	 id = $(this).attr('id');

    	
    	}
);

 
});


	//$(document).keypress(function(e){

	//		alert(e.keyCode);
			//if(e.wich ==114|| e.keyCode == 114){
			//$('#'+id).remove();
			//$("#menu-opcoes").css("display", "none");
		
 	 //	});*/
  		

  </script>


   
		
  <script>

  function selecionar(teste){

  	var idElemento = teste.id;
  		//alert(idElemento);
  		if(idElemento != 'area'){
        $("#menu-opcoes").css("display", "block");
       // idElemento.css("border-style", "dashed");
        //idElemento.css("border-width", "6px");
    }
        else{ $("#menu-opcoes").css("display", "none");}


  			
  	}

  	/*$(function() {

  		$( "#area" ).click(function() {
  		 var id = $(this).attr('id');
  		alert( "Handler for .click() called."+id );
		});


    $("#menu-lateral div").click(function(){
       
        var id = $(this).attr('id');
        alert("oi");
   										

    });
});
*/

  </script>


  
</body>
</html>

